%%%%%%%%%%%%%%%%%%%%%
%   AMS packages    %
%%%%%%%%%%%%%%%%%%%%%
\documentclass{amsart}
\usepackage{amsmath}
\usepackage{amsxtra}
\usepackage{amscd}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{eucal}
\usepackage[all]{xy}
\usepackage{graphicx}
\usepackage{comment}
\usepackage{amssymb}

\newtheorem{cor}[subsubsection]{Corollary}
\newtheorem{lem}[subsubsection]{Lemma}
\newtheorem{prop}[subsubsection]{Proposition}
\newtheorem{propconstr}{Proposition-Construction}
\newtheorem{ax}{Axiom}
\newtheorem{conj}{Conjecture}
\newtheorem{thm}[subsubsection]{Theorem}
\newtheorem{defn}[subsubsection]{Definition}
\newtheorem{rem}[subsubsection]{Remark}
\newtheorem{eg}[subsubsection]{Example}
\newtheorem{ex}[subsubsection]{Exercise}
\newtheorem{note}[subsubsection]{Notation}
\newtheorem{alg}[subsubsection]{Algorithm}
\newtheorem{fact}[subsubsection]{Fact}

\newcommand\nc{\newcommand}
\nc\on{\operatorname}
\nc\renc{\renewcommand}
\newcommand\ssec{\subsection}
\newcommand\sssec{\subsubsection}
\newcommand\bO{{\mathbf O}}
\newcommand\CC{{\mathcal C}}
\newcommand\BN{{\mathbb N}}
\newcommand\BC{{\mathbb C}}
\newcommand\BF{{\mathbb F}}
\newcommand\BR{{\mathbb R}}
\newcommand\BQ{{\mathbb Q}}
\newcommand\BBZ{{\mathbb Z}}
\newcommand\uR{\underline{R}}
\newcommand\uZ{\underline{\BBZ}}
\newcommand\CF{{\mathcal F}}
\newcommand\uCF{\underline{{\mathcal F}}}
\newcommand\BZ{{\mathbb Z}}
\newcommand\BA{{\mathbb A}}
\newcommand\BP{{\mathbb P}}
\newcommand\fa{{\mathfrak a}}
\newcommand\fp{{\mathfrak p}}
\newcommand\fq{{\mathfrak q}}
\newcommand\fm{{\mathfrak m}}
\newcommand\pt{\mathrm{pt}}
\nc{\bd}{\mathbf{d}}
\nc{\Hom}{\on{Hom}}
\nc{\End}{\on{End}}
\nc{\Spec}{\on{Spec}}
\nc{\Reg}{\on{Reg}}
\nc{\Specm}{\on{Specm}}
\nc\ol{\overline}
\nc\wt{\widetilde}
\nc{\one}{{\mathbf{1}}}
\renc{\mod}{\on{-mod}}
\newcommand{\id}{\mathrm{id}}
\nc{\ul}{\underline}
\nc{\uHom}{\ul\Hom}
\nc{\tHom}{\ul\uHom}
\nc{\wh}{\widehat}
\nc{\Vect}{\on{Vect}}
\nc{\Res}{\on{Res}}
\nc{\Ind}{\on{Ind}}

\title{Unimodality Ideas}
\author{Aaron Landesman}
\usepackage{amsmath}
\begin{document}

\maketitle
\section{Directions to move}
\begin{enumerate}
	\item Look at generalising $p_i^r$ for general r.
	\item Generalizing to $q$ analog of cyclic group.
	\item Try relating $p_i,q_i.$
	\item Coding which groups $G$ we have $p_i=q_i.$
	\item When are $p_i = q_i.$
	\item Try to compute $q_i.$
	\item Look at simple groups, and maybe solvable groups, try quotienting by normal subgroups?
	\item Are there any ways to combine $G_1,G_2$ where $G_i$ are groups with $p_i = q_i.$
	\item Are there some characterisations of groups with $q_i,p_i.$
	\item How to use sage, what can we do with groups?
	\item Which edge poset definition do we want? Do we include edges containing $y$ or exclude them?
\end{enumerate}
\section{Cyclic group edges, this section is wrong.}
\begin{rem}
All subscripts will be taken $\pmod n.$
\end{rem}


\begin{thm}
The statistic $p_i$ as Zijian defined are unimodal for the necklace poset.
\end{thm}
\begin{proof}

\end{proof}

\begin{lem}
\label{q_i_count}
$q_i = \binom {n-1}{i-1}.$
\end{lem}
\begin{proof}

\end{proof}

\begin{lem}
The difference $p_i - q_i$ is the number of pairs $(x,y),x \lessdot y,$ such that there exists $\sigma$ so that $\sigma x \lessdot y,$ but there does not exist $g$ with $gx =\sigma x,gy = y.$ 
\end{lem}
\begin{proof}

\end{proof}

\begin{defn}
We call $(x,y)$ a special pair if there exists $\sigma$ so that $\sigma x \lessdot y,$ but there does not exist $g$ with $gx =\sigma x,gy = y.$
\end{defn}

\begin{lem}
$p_i - q_i$ is the number of orbits of special pairs
\end{lem}
\begin{proof}

\end{proof}

\begin{rem}
We are restricting to the cyclic group $C_n,$ and so we are assuming that all elements are generated by the permutation $c =(1 2 \cdots n).$ We now wish to bound the number of orbits of special pairs.
\end{rem}

\begin{rem}
\label{proper_ordering}
To compute the number of orbits of special pairs, we can always assume $x = \{t_1,t_2,\ldots, t_{i-1}\}_<$ and $y = \{t_1,t_2,\ldots, t_i\}_<$ by simply composing with an element of $C_n$ in order to make the missing $t_i$ the biggest element of the set. We may as well assume $t_1 = 1.$
\end{rem}



\begin{lem}
\label{max_shift_one}
Suppose $(x,y)$ is a special pair, as in ~\ref{proper_ordering} with $\sigma x \lessdot y$ Then, $\sigma$ is the permutation sending $t_1$ to $t_2$ or $t_1$ to $t_{i}.$
\end{lem}
\begin{proof}
Suppose otherwise, that it sent $t_1$ to $t_k$ for $k \neq 2,i.$ Then, since the relative ordering of the elements are preserved, we must have $t_l$ is sent to $t_{l+k-1}.$ Since we can only act by elements of $C_n,$ this gives us that the values $t_{l+1}-t_l= t_{k+l}-t_{k+l-1}.$ for all $l \in [i].$ However, this means that $\sigma y = y,$ (THAT IS THE TRICKIEST PART TO SEE) so $x,y$ is not a special pair.
\end{proof}

\begin{lem}
Any special pair $(x,y)$ must have $y = \{t_1,t_1+a,t_1 + 2a,\cdots,t_1+(i-1)a\}$ for some $a < n.$
\end{lem}
\begin{proof}
By ~\ref{max_shift_one} we must have that $\sigma$ sends $t_1$ to $t_2$ or $t_i.$ Let's assume it sends $t_1$ to $t_2,$ the other case is similar. However, this means we must send $t_l$ to $t_{l+1},$ which means $t_l - t_{l-1} = t_{l+1} - t_l,$ which means that $y$ is of the claimed form.
\end{proof}



\begin{lem}
\label{bound_special_orbits}
The number of orbits of special pairs is between $n-1$ and $\frac{n}{2}-1.$
\end{lem}
\begin{proof}
By the above, there are at most $n$ orbits (as determined by the value of a) which can have special pairs. However, it is clear that $a = i$ and $a = n-i$ lie in the same orbit. Therefore, we have $\frac{n}{2}$ identifications, which tells us $p_i - q_i \geq \frac{n}{2}-1.$
On the other hand, in the worst possible case, we have all $n$ orbits are equivalent, which implies $p_i - q_i \leq n.$
\end{proof}

\begin{lem}
The $p_i$ statistics are unimodal.
\end{lem}
\begin{proof}
By ~\ref{q_i_count} we know the differences of the $q_i$ on the nose it is obvious that $q_i - q_{i-1}\geq \frac{n}{2}.$ However, by ~\ref{bound_special_orbits} we have $n-1 \geq (q_i - p_i) \geq \frac{n}{2}-1.$ Therefore, $p_i - p_{i-1} \geq \frac{n}{2}-\frac{n}{2} \geq 0.$
\end{proof}

\section{Ideas from Monday June 30}

Let $S_{x,y} = \{\sigma|\sigma x\lessdot y\}.$
I think $q_i = \sum_{G(x,y)}^{} \frac{|S_{x,y}|}{|Stab(x)\cup Stab(y)|}$

Now, let us think of $\sigma$ as a representative of $S_{x,y}/(Stab_x \cup Stab_y)$
Note, the condition that $\sigma$ does not stabilize $x$ means we need the all the verticies of $y$ to be present in $x \cup \sigma x.$

Possible idea, we might still have to always send $i_1 \mapsto i_n$? Not so sure about how to make this precise though.

\begin{lem}
$Stab(x) \neq e \implies Stab(y) = e,$ and $Stab(x) \neq e \implies Stab(y) = e,$ 
\end{lem}
\begin{proof}
If $c^k \in Stab(x),c^k \neq e,$ where $c$ is the cyclic generator, and $k$ is minimal. We know that every elements in $x$ spaced every $k$ apart. So, we can treat it as a necklace of length $k.$ We just have to show that after adding a single bead it cannot have any symmetries. However, if we could do this in a relatively prime fashion, we would obtain many additional equalities between differences of places in $x,$ and we could not change just one of those differences due to cyclic symmetry of order 
$k,$ since we would not get an equality in one of the $n/k$ parts, but we would get the equality in all the others. 
\end{proof}



\begin{lem}
In order for $|\frac{|S_{x,y}|}{|Stab(x)\cup Stab(y)|}|>1,$ we must have $Stab(x)\cup Stab(y) = e.$
\end{lem}
\begin{proof}
This is similar to the previous lemma, in either case, we get equalities between differences of the one with a stabilizer, which end up contradicting the one additional point.
\end{proof}
\begin{lem}
In order to have $|\frac{|S_{x,y}|}{|Stab(x)\cup Stab(y)|}|>1,$ $x$ must be of the form of a cyclic element union 1 dude, and $y$ must be of the form of the cyclic element union 2 dudes, and the rotation must take $x$ to $y.$
\end{lem}
\begin{proof}

\end{proof}

\begin{lem}
Now we just need to count the number of cyclic generator dudes. Clearly at most n, since the number of divisors are less than n. Therefore, since each contributes at most n, we only have to bound successive differences of binomial coefficients by $n^2.$
\end{lem}
\begin{proof}
For each prime divisor, we can obtain one such cyclic generator dude.
First, there are the ones which all have the same difference, these seem to be most common. There are exactly n/2-1 of these? The other counts will depend on the orbit sizes.
\end{proof}

\section{Proof of cyclic group edge numbers is Unimodal}

\begin{lem}
\label{orbit_differences}
The number $q_i - p_i$ is in bijection with the number of orbits with representative $y$ satisfying the following properties.
\begin{enumerate}
	\item There is some $k | n,$ possibly with $k = n,$ such that there are $\lfloor \frac{i}{k} \rfloor$ distinct sets of the form $\{a+k,\ldots,a+nk\},$ taken $\pmod n$
	\item The remaining  $s = i-\lfloor \frac{i}{k} \rfloor,$ with $s \neq 1,s \neq k.$ elements all have the same value $\pmod \frac{n}{k}$ and there exists $a \in [n]$ and $r < \frac{n}{2}$ such that the remaining elements all lie in the set $\{a+r,a+2r,\ldots, a+sr\}.$
\end{enumerate} 
\end{lem}
\begin{proof}
Split by the cases of $k = n,$ in which case we have a full cycle, and this is clearly the only possibility, or otherwise $k \neq n,$ in which case some set of elements must be fixed, and then we will have such a ``tail cycle'' as in the second property
\end{proof}

\begin{defn}
We call the non full cycle, as described in the second property a tail cycle.
\end{defn}

\begin{rem}
The goal of this section is to bound $q_{i-1} <p_i \leq q_i.$ Note we trivially know $p_i \leq q_i,$ Additionally, this bound will trivially show the $p_i$ are unimodal (they are obviously symmetric by taking complements.) Therefore, to accomplish our goal, it suffices to show $q_i - p_i > q_i - q_{i-1} = \binom {n-2}{i-1},$ since we know $q_i = \binom {n-i}{i-1}.$
\end{rem}

\begin{note}
Denote the number of edges from $(B_n/G)_i$ to $(B_n/G)_{i-1}$ by $p(n,i).$ Similarly, define $q(n,i)$ as the $q_i$ for $B_n.$
\end{note}

\begin{lem}
\begin{align*}
	p_i \leq \sum_{k = \frac{n}{p},p|k,p \text{ prime }}^{}p(k,\lceil \frac{i}{k}\rceil) \lfloor \frac{p}{2}\rfloor
\end{align*}
\end{lem}
\begin{proof}
Note that by ~\ref{orbit_differences}, we only have to count the number of G-orbits satisfying the condition of ~\ref{orbit_differences}. Clearly, for every $t|n,$ we can write $t$ as a factor of some $k = \frac{n}{p}.$ Therefore, for any cycle size $t$, it can be decomposed as a disjoint union of $\frac{k}{t}$ cycles of size $k.$ Therefore, summing the number of equivalence classes corresponding to elements of $p_i - q_i,$ overcounts the number of equivalence classes.

Now, I claim the number of equivalence classes composed of cycles of length $k$ is $p(k,\lceil \frac{i}{k}\rceil) \lfloor \frac{k}{2}\rfloor.$ To see this, we describe a simple bijection. We know that the tail cycle has between $2$ and $k-1$ elements. Now, restrict to only the first $k$ elements of the cycle. Each representative has a set of $\lfloor \frac{i}{k}\rfloor$ full cycles, and $1$ partial cycle. For each such element, we correspond all $\lceil \frac{i}{k}\rceil$ to an element $y_k \in B_k,$ and the elements of $\lfloor \frac{i}{k}\rfloor$ with an element $x_k$ of $B_k.$ Clearly $x \lessdot y.$ This uniquely characterizes the locations of the full cycles $\pmod k,$ and the location of the partial cycle. Hence, there are $p(k,\lceil \frac{i}{k}\rceil)$. The reason we have to add in a factor of $ \lfloor \frac{p}{2}\rfloor$ is simply to tell us the difference between two adjacent element of the cycle in $x_k.$ It can be any multples of $k$ from $k$ to $k \cdot p,$ but of course a difference of $k \cdot i$ is equivalent to $k \cdot p-i$, and these are the only two equivalent cycles. Hence, this proves the bound. 
\end{proof}

\begin{thm}
We can bound $p_i \leq q_i - q_{i-1}$
\end{thm}
\begin{proof}
Using the above relation, we can bound $p_i \leq \sum_{k = \frac{n}{p},p|k,p \text{ prime }}^{}p(k,\lceil \frac{i}{k}\rceil) \lfloor \frac{p}{2}\rfloor.$
We know $p(n,i) \leq q(n,i),$ and so using this bound, we have $p_i \leq \sum_{k = \frac{n}{p},p|k,p \text{ prime }}^{}q(k,\lceil \frac{i}{k}\rceil) \lfloor \frac{p}{2}\rfloor,$ and then since we know $q(k,\lceil \frac{i}{k}\rceil) = \binom {k-1} {\lceil \frac{i}{k}\rceil-1},$ we can write $p_i \leq \sum_{k = \frac{n}{p},p|k,p \text{ prime }}^{}\binom {k-1} {\lceil \frac{i}{k}\rceil-1}\lfloor \frac{p}{2}\rfloor.$ Now, there are clearly at most $\log n$ terms in this sum, since there are fewer than $\log n$ distinct prime factors of $n.$ And therefore, for all $k | n,k>3$, we just have to bound $\log n \cdot \binom {k-1} {\lceil \frac{i}{k}\rceil-1}\lfloor \frac{p}{2}\rfloor \cdot \log n < \binom {n-2}{i-1},$ which is quite obvious, at least for $n >5$ or so.
\end{proof}

\section{Cyclic group with r > 1}

\begin{note}
Let me define statistics $p(i,r,n)$ which will denote the number of pairs $(x,y) \in B_n \times B_n$ such that $|x| = i-r,|y| = i,x<y$ up to the equivalence relation that $(x,y) \equiv (z,w)$ if there is some $\sigma,\tau$ such that $\sigma x = z,\sigma y = w.$
\end{note}

\begin{conj}
The above case of $r =1$ can be generalized for the $p(i,r,n)$ as long as $n > 2r.$ The proof is essentially analagous. This time, we can't explicitly compute the $q_i,$ but we can bound them as very close to $\binom n i \cdot \binom i r \cdot \frac{1}{n}.$ We can show that at most a proportion of $\frac{1}{n^2}$ elements have nontrivial stabilizer, which means that we can bound the $q_i$ within a factor of $\frac{1}{n}$ of $\binom n i \cdot \binom i r \cdot \frac{1}{n}.$ We can then look at how the $p_i$ differ from the $q_i.$ This time, we can associate at most $r$ elements to each pair $(x,y)$ which has the special property that $gx \lessdot y,$ but there is no $h$ with $hx = gx, hy = y.$ And then we can count the number of such pairs and bound them by much smaller binomial coefficients, as in the $r = 1$ case.
\end{conj}

\section{When are quotients of prime order necklace posets peck?}

I think Stanley's proof of quotients of unitary peck posets being peck uses something a little weaker. That is, I think he only uses that we need the constants $c_y = c_{wy}$ for all $w \in G,y \in P_i.$ However, for necklace posets, we know that $c_y$ is always either 1 or 2. So, quotienting by group actions which send the 1's to 1's and 2's to 2's will still leave us with a Peck poset.

In the prime case, for example, we always have the 2's coming from evenly spaced chains. So for any group action sending non evenly spaced chains to evenly spaced chains, and non evenly spaced sequences to non evenly spaced sequences, the quotient should be Peck. 

\section{All abelian subgroups}

For $A$ an abelian subgroup action on $[n],$ we can decompose it into orbits. Now, let's just try to understand the action on a single orbit. By assumption, this is transitive, and it must also act simply, as otherwise the action has a stabilizer (due to A being abelian). So, now we have a simply transitive action of an abelian subgroup on $[k].$ But then we know exactly that after quotienting by the stabilizer, we have $|A|/Stab([k])=k$ acting on $[k]$, so we can view $k$ as a cube corresponding to $A,$ so we have $A$ acting on $A$ in the natural way of the cube $A.$

\section{Reducing to Transitive Actions}

Think about the size of the stabilizer.

Maybe we can restrict to transitive group action, since nontransitive actions can either be ignored, or have too much redundant information.

\begin{rem}
Here is an interesting equality
\begin{align*}
	\sum_{Gx \lessdot Gy}^{}\frac{|\{g|gx \lessdot y\}|}{|Stab(x)|}=\sum_{G(x\lessdot y)}^{}1
\end{align*}
\end{rem}

\begin{thm}
Suppose $B_n/G$ has orbits $O_1,\ldots, O_k$ on $[n].$ If the edge counting posets given by restricting the $G$ action to each orbit $O_i$ are symmetric unimodal. Then, $B_n/G$ is symmetric unimodal.
\end{thm}
\begin{proof}
We shall prove this using several following claims. Basically, let's just assume there are 2 orbits.
\end{proof}

\begin{cor}
If we would like to show that the edge sequences are always unimodal. We can restrict to considering transitive group actions. In particular, we may assume $|O/X| = 1,$ and hence $\sum_{g\in G}^{}|X^g| = |G|.$
\end{cor}
\begin{proof}

\end{proof}

\begin{cor}
All abelian groups have symmetric, unimodal sequences.
\end{cor}
\begin{proof}
By the theorem, it suffices to show this is true for transitive abelian groups. It's not too hard to see than transitive faithful abelian group actions are actually simply transitive. Then, we can actually describe all abelian group actions $A$ on $[n]$ as $A \times A \rightarrow A,$ if we identify $[n]$ with $A$ as a set (think of $[n]$ as a torus). But then, using this identificaiton, we may use the same arguement of computing the $q_i$ and bounding the difference of the $p_i$ from the $q_i$ to explicitly show the sequence is unimodal.
\end{proof}

\begin{prop}
Let the orbits be $O_1,O_2$ and let the corresponding unimodal, symmetric edge counting posets be $P,Q.$ In order to show $B_n/G$ is symmetric unimodal, it suffices to show there are more edges eminating from $P_{i+1} \times Q_j$ than from $P_i \times Q_j,$ with $i < rk(P)/2.$
\end{prop}
\begin{proof}
Clearly, if $i+j < n/2,$ we must have either $i < rk(P)/2$ or $j<rk(Q)/2.$ So, just assume $i < rk(P)/2.$ Then, each level of the poset $B_n/G$ is made of a union of elements of the form $P_t \times Q_s$ with $t + s = i+j.$ Again, always one of $t,s$ must be less than $rk(P)/2$ or $rk(Q)/2,$ so if it is $t$ use the assumption to show there are more edges leaving $P_{t+1} \times Q_s$ than $P_t \times Q_s.$ Essentially, we are just creating a trivial order matching here.
\end{proof}

\begin{prop}
In order to show  there are more edges eminating from $P_{i+1} \times Q_j$ than from $P_i \times Q_j,$ with $i < rk(P)/2,$ it suffices to show there are more edges from $P_{i+1} \times Q_j$ to $P_{i+2} \times Q_j$ than there are from $P_i \times Q_j$ to $P_{i+1} \times Q_j,$ and that there are more edges from $P_{i+1} \times Q_j$ to $P_{i+1} \times Q_{j+1}$ then there are from $P_i \times Q_j$ to $P_i \times Q_{j+1}.$
\end{prop}
\begin{proof}
All the edges leaving $P_t \times Q_s$ must either go to $P_{t+1} \times Q_s$ or $P_t \times Q_{s+1},$ and if we assume both of these are dominated by the edges one level higher, then we obtain unimodality.
\end{proof}

\begin{prop}
there are more edges from $P_{i+1} \times Q_j$ to $P_{i+2} \times Q_j$ than there are from $P_i \times Q_j$ to $P_{i+1} \times Q_j.$
\end{prop}
\begin{proof}
The number of edges from $A$ to $B$ is just the number of pairs $(Ga,Gb) \in A \times B$ with $Ga \lessdot Gb.$ By the unimodality assumption on $P_i,$ taking $A = P_i,B= P_{i+1},C = P_{i+2},$ there are more edges from $A$ to $B$ than from $B$ to $C$, which means there are fewer pairs $Ga \lessdot Gb$ than there are $Gb \lessdot Gc$. Then, note that for any fixed $y \in Q_j,$ the orbit $Gy$ does not intersect the orbit $P_i.$ Therefore, for each $y$ in $Q_j,$ we have that there are fewer pairs $G(a,y) \lessdot G(b,y)$ than there are $G(b,y)\lessdot G(c,y).$ Hence, summing over all $Gy \in Q_j$ gives the proposition.
\end{proof}
\begin{prop}
there are more edges from $P_{i+1} \times Q_j$ to $P_{i+1} \times Q_{j+1}$ than there are from $P_i \times Q_j$ to $P_{i} \times Q_{j+1}.$
\end{prop}
\begin{proof}
We know that there is an order matching $P_i \rightarrow P_{i+1}.$ Hence, for each edge $P_{i+1} \times Q_j$ to $P_{i+1} \times Q_{j+1},$ which is of the form $G(t,x) \lessdot G(t,y),$ we obtain an edge from $P_i \times Q_j$ to $P_{i} \times Q_{j+1}$ of the from  $G(s,x) \lessdot G(s,y),$ where $s$ is the image of $t$ under the order matching. Hence, there are more edges  from $P_{i+1} \times Q_j$ to $P_{i+1} \times Q_{j+1}$ than there are from $P_i \times Q_j$ to $P_{i} \times Q_{j+1}.$
\end{proof}

\section{Attempting to use transitive orbits}

\begin{rem}
Here is a heuristic computation, which may provide some insight into what is going on? Tried to calculate this assuming independence of the elements in $y,$ but this ends up just corresponding to the trivial group action, where there are $\binom n i \cdot i$ orbits.
\end{rem}

\section{Trying injective edge poset maps}

\begin{rem}
Consider the raising operator $$U(Ga,Gb) = \sum_{a \in Ga,b \in Gb|a\lessdot b}^{}\left(\sum_{z\notin b}^{}(G(a\cup z),G(b \cup z))\right).$$

For instance, in the case $G = e$ acts trivially, we get the raising map Vic defined. I wonder if $UD -DU = CI$ for some positive constant C. This does not seem to work, particularly if you have a $G$ action twisting one side. I think it probably fails if we take $G = C_6,$ as can be seen by looking at the edges (13,1) and (12,2).
\end{rem}

\begin{rem}
Maybe we can do something tricky where we weight these maps in the previous remark by the $c_{x,y}$ which are integers keeping track of the edge counts.
\end{rem}

\begin{rem}
Define $d_{x,y} = |\{(a,b)|(a\lessdot b),Ga = Gx, Gy = Gb\}.$ Then, try the raising operator $$U(Ga,Gb) = \sum_{a \in Ga,b \in Gb|a\lessdot b}^{}\left(\sum_{z\notin b}^{} \frac{1}{d_{a\cup z,b\cup z}} (G(a\cup z),G(b \cup z))\right).$$

Using this map, we can probably see $DU-UD = CI$ for the cyclic group, for example.
\end{rem}
\begin{rem}

It would be useful to know when the following statement is true: for any two orbits $G(y,x),G(b,a)$ with $(Gy,Gx)= (Gb,Ga)$ we have $|G(y,x)| = |G(b,a)|.$

Here, we can clearly assume $y = b,$ and so one sufficient condition would be if $h(x) = a,$ then we want $|Stab(y) \cap Stab y/x| = |Stab(y)\cap Stab(y/a).$ I'm not actually sure when this is true. It is true, for example, in the cyclic group, as points always have trivial stabilizer.
\end{rem}

\begin{lem}
For all $h \in G,$ there exists $k \in \BN$ such that $h^n = h^{-1},$
\end{lem}
\begin{proof}
This is true for $S_n,$ and so it is true for all embedded subgroups.
\end{proof}

\section{Showing the $p_i$ are unimodal for all quotients $G.$}

\begin{defn}
Given a poset $P,$ we define the edge poset $E(P),$ to be the poset whose elements are pairs $(x,y)$ such that $x,y \in P, x \lessdot y.$ We have $(x,y) < (a,b)$ if $x \lessdot a, y\lessdot b$ (possibly with $y \neq a,$ I'm not too sure which is better).
\end{defn}

\begin{lem}
\label{symmetric_edge_quotients}
For $B_n/G$ a symmetric poset, the edge poset $E(B_n/G)$ is symmetric.
\end{lem}
\begin{proof}
Use complementation.
\end{proof}


\begin{rem}
This notion of $B_2$ full is more related to the other type of edge poset, defined by relations where we have $(x,y) < (a,b)$ if $x \lessdot a, y\lessdot b$ and $y \neq a,$ but it may still be relevant for other things.
\end{rem}


\begin{defn}
We say a poset is $B_2$ full, if whenever we have $x \lessdot y, x\lessdot z,$ there exists a $w$ with $y \lessdot w, z\lessdot w.$
\end{defn}

\begin{lem}
\label{quotients_B2_full}
For any order preserving, rank preserving group action $G \times B_n \rightarrow B_n,$ the quotient poset $B_n/G$ is $B_2$ full.
\end{lem}
\begin{proof}
Suppose we have $Gy\gtrdot Gx,Gz \gtrdot Gx,$ in the quotient poset. This means, we have $g,h \in G,gy \gtrdot x,hz \gtrdot x.$ Then, $gy \cup hz \gtrdot gy,gy\cup hz \gtrdot hz,$ which implies $G(gy \cup hz) \gtrdot Gy$ and  $G(gy \cup hz) \gtrdot Gz,$ which shows $B_n/G$ is $B_2$ full.
\end{proof}

\begin{thm}
\label{injective_edge_maps}
For $P$ a symmetric poset such that there exist injective maps $U_i:V(P_i) \rightarrow V(P_{i+1}),$ for $i < \frac{n}{2}$,	the edge poset $E(P)$ also has injective maps $V_i:V(E(P)_i)\rightarrow V(E(P)_{i+1})$ for $i < \frac{n}{2}.$
\end{thm}
\begin{proof}
Let $\pi_i : P_{i} \times P_{i} \rightarrow E(P)_{i+1}$ be the projection, by anihillating pairs without an edge between them, and let $i_j:E(P)_j \rightarrow P_j \times P_{j+1}$ be the injection. We know the map $U_i \times U_{i+1} :P \times P_{i+1} \rightarrow P_{i+1} \times P_{i+2}$ is injective. We define $V_i = \pi_{i+1}((U_i \times U_{i+1}) \circ i_i):E(P)_i \rightarrow E(P)_{i+1}.$ We would like to show for $i < \frac{n}{2}$ the $V_i$ are an injection.

Also, for each $x \in P_i,$ define the natural inclusion map $L_i:x \mapsto (x,U_i(x)) \subset E(P)_i.$

First, observe that, $(U_i \times U_{i+1})(V(x_i) \times U_i(V(x_t))) \cap (U_i\times U_{i+1})(V(x_t)^\perp \cap U_i(V(x_t)^\perp)) = 0,\forall i$ simply because the maps $U_i, U_i \times U_{i+1}$ are injective and we certainly know $V(x_i) \cap V(x_i)^\perp = 0.$ Therefore, $\pi_{i+1}(U_i \times U_{i+1})(V(x_i) \times V(U_i(x_i))) \cap \pi_{i+1}(U_i\times U_{i+1})(V(x_i)^\perp \times U_{i+1}(V(x_i)^\perp)) = 0,\forall i.$

By the preceeding paragraph, in order to show $V_i$ is injective, it suffices to show that for a particular $t,$ the restriction $W_{i,t} = V_i|_{\{(y,x) \in E(P)_i|x = x_t\}}$ is injective. Now, taking the appropriate restriction to edges leaving $x_t,$ we know the map $U_i \times U_{i+1}:x_t \times V(y \gtrdot x_t),$ defines an injective map, simply because $U_{i+1}$ is injective.

Now, for a fixed $y \gtrdot x,$ by definition of the perpendicular subspace, $(V(x)\times V(y)) \cap (V(x) \times V(y^\perp)) = 0.$ So, by injectivity of $U_i \times U_{i+1},$ it must be that $(U_i \times U_{i+1})(V(x)\times V(y)) \cap (U_i \times U_{i+1})(V(x) \times V(y^\perp)) = 0.$ This implies that the maps $W_{i,t}$ are indeed injective.

\end{proof}

\begin{thm}
The sequences $p_i$ are unimodal for all quotients $B_n/G.$ 
\end{thm}
\begin{proof}
First, we know $B_n$ is Unitary Peck. This tells us $B_n/G$ is peck for all $G,$ and therefore, there exists injective maps $\phi_i:V(P_i) \rightarrow V(P_{i+1})$ for $i <\frac{n}{2}$	with $\phi_i$ injective, and in fact $\phi_i \circ \cdots \circ \phi_{n-i-1}:V(P_i) \rightarrow V(P_{n-i})$ an isomorphism.

We won't even need this isomorphism, but maybe it can be used to say something even stronger!

We also know it is symmetric by ~\ref{symmetric_edge_quotients} we also know $E(B_n/G)$ is symmetric. Therefore, it suffices to show that the edge sequence $p_i, i < \frac{n}{2}$ is unimodal. However, by ~\ref{injective_edge_maps}, we obtain injective maps $V_i:V(E(B_n/G)_i)\rightarrow V(E(B_n/G)_{i+1})$ for all $i < \frac{n}{2}.$ Therefore, $p_i,i<\frac{n}{2}$ are unimodal, and hence all $p_i$ are unimodal.

\end{proof}
\begin{rem}
THIS PROOF IS COMPLETELY WRONG because for $\pi $ surjective, $\pi A \cap \pi B \neq \pi (A \cap B).$

\end{rem}

\section{Trying to rectify the Above proof of Injective Edge Maps}

\begin{lem}
If we only look at down trees, with $y$ at the top, the map $E(P)$ is injective when restricted.
\end{lem}
\begin{proof}
This crucially uses that the algebra is a boolean quotient and that it is $B_2$ full.
\end{proof}

\begin{lem}
If we only look at up trees with $x$ at the bottom, then the map $E(P)$ is injective when restricted
\end{lem}
\begin{proof}
	
\end{proof}

\begin{lem}
An up tree down tree pair can only intersect in at most one edge. Any edge determines an up tree down tree pair.
\end{lem}
\begin{proof}

\end{proof}

\section{Some Failed Ideas}

\begin{rem}
I conjectured that at every vertex, less than or equal to the half way point, there are more edges above it then below it. This is false, as the computer points out, in the case of the dihedral group. Such an example is given by the group generated by $[[1,2,0,3,4,5,6,7,8],[0,1,3,4,5,2,6,7,8],[0,1,2,3,4,6,5,7,8],[0,1,2,3,4,5,6,8,7]],$ with $(3,4,7,8),$ which has one elements $(3,4,6,7,8)$ above it but two below $(0,4,7),(3,7,8)$.

\end{rem}
\begin{rem}
Based on the above counterexample, together with trivial things like $G = S_n.$ we cannot have every vertex having more edges above it than below.

The following argument is clearly wrong, but what is wrong with it? I want to show that whenever we identify two cycles above $v$ we also identify two cycles below v. Above v we identify $v \cup a,v \cup b,$ which means there is a $g$ with $gv\cup ga = v \cup b.$ We cannot have $ga = gb,$ as this would fix $gv=v$ and hence not be a distinct orbit. In this case, we have $t = g^{-1}b,r = ga.$ Consider the two element $v/r,v/s.$ These are clearly just below $v,$ and also are identified by $g.$ 

Why does this not show that the number of edge orbits identified on level $i$ is bigger than the number of edge orbits identified on level $i-1$? Maybe the answer is that somehow two different elements can act the same way on the $i$th level, but differently on the $i-1$? I don't really see this, but looking at the above counterexample, for instance, should help.
\end{rem}

\section{Computers and the edge poset}


\begin{lem}
If the edge poset of the boolean algebra is peck, then it is unitary peck. 
\end{lem}
\begin{proof}
The symmetry gives us that all $c_y=1$ are the same on a given row.
\end{proof}

\begin{thm}
The edge poset of the boolean algebra is unitary peck, for $n > 2$ (in first ordering) or all n in second ordering.
\end{thm}
\begin{proof}
It suffices to show the compositions of these maps define isomorphisms. These maps actually count interesting things. Namely, they count paths along 2-size boolean subalgebras which may either be degenerate, or nondegenerate. You can think of them as faces of a hypercube. If we restrict the up map to be only to edges which do not lie above the top vertex, when we are going from level $i$ to $n-i$ we are counting sub-boolean algebras of size 2i. It is clear that you are traveling along faces of the cube of the boolean algebra, and so there are $2i!$ ways to do this for any give starting point an ending point of distance $2i,$ since you can choose your favorite order to traverse the faces in. If we do the other ordering we get $(n-1)!(2^n-1)$ edges, since we can choose which coordinate to put it in, and then choose the bottom coordinate from 2 choices. 

Let's just talk about the first map. We start with one of $\binom n i$ fixed 1-dim subspaces corresponding to an edge. Then, we just take the map which sends it to the sum over all vectors containing the first i coordinates. There is a very obvious bijection, and there should be an easily describable inverse, given by finding the unique $i$ dimensional subspace in all such $\binom {n-i}i$ spaces.

Perhaps to explain it more clearly, we want to show we can get from the image of this map to a vector with 1's in the first n-i coords, and 0 in the others. We can sum over the images of all $\binom {n-i} i$ dudes of level i which the dude at level $n-i$ contain, which gives us something symmetric in the first $n-i$ and symmetric in the last i. We can subtract from that an appropriate multiple of the sum over everything, which is clearly symmetric in all the variables. This gives us the desired edge, and hence the desired change of basis matrix. 

This gives us an inverse map.
\end{proof}

\section{Unimodality of $E(B_n/G)$}
WRONG!
Try to exhibit $E(B_n/G)$ as a $G\times G$ quotient of some unitary peck boolean algebra $X.$ It will basically be a disjoint union of edge posets of boolean algebras. The way we get it is as follows. Whenever we have a pair $x \lessdot y,$ and some element $g \in G$ with $gx \cap y = \emptyset.$ We may observe that there are $n-2i-1$ elements in $[n]-gx-y.$ We can then associate an edge poset where $gx,y$ is the base, and to go up, we can add any element $t \in [n]-gx-y$ to the top row, and $g^{-1}t$ to the bottom row. Observe that we can never have $g^{-1}t \in y.$ If $gx \cap y \neq \emptyset,$ then we can remove some element from the top of their intersection, until we eventually get to the bottom of a boolean algebra with $gx \cap y = \emptyset.$ This lets us exhibit this poset $X$ as a disjoint union of boolean algebra edge posets, and hence the quotient $X/G\times G$ is actually Peck, since $X$ is a disjoint union of unitary peck algebras.

\section{$B_k$ full}


\begin{defn}
A poset is $B_k$ full if whenever it contains a vertex $v$ and $p$ vertices above $v,$ then it contains a $p$ dimensional hypercube containing $v$.
\end{defn}

\begin{lem}
$B_n$ is $B_2$ full. Quotients of $B_n$ are $B_2$ full.
\end{lem}
\begin{proof}

\end{proof}

\section{Relation of $p_i$ to $q_i$}

Start with the induced representation $X = Ind_{\Delta (G)}^{G \times G}(V)$. 
The $p_i$ are gotten by $Res^{G \times G}_{\Delta(G)}(X)/G,$ 
and the $q_i$ are gotten by quotienting $X/G\times G.$ So, we have have that restriction and quotienting by $G$ commutes with quotienting by $G \times G,$ we have that the $q_i$ are equal to the $p_i.$

\section{Possible Posets}

\begin{enumerate}
	\item Include pairs $(y,x)$ if $gx \lessdot hy$ for some $g,h \in G\times G.$ Take the relation to be $(b,a) \lessdot (y,x)$ if $a \subset x, b \subset y, b \neq x.$
	\item Take the quotient as above, and then try to remove additional bad points.
	\item Try to identify things in $Ind(B_n)$ and then quotient. I might identify the pairs $(y,x)_e$ and $(gy,x)_g$ if $(gy,x)_e$ is an edge. Also, in the factor of $Ind(B_n)_g,$ we have an edge $(x,y)\lessdot(a,b)$ if $g(a / x) = b/y $ 
	\item What I currently like most is the following. We have pairs $(y,x)_g,$ which is a pair if and only if $gx \subset y.$ We have a $G\times G$ action, where the first $G$ sends $(g,1)(y,x)_h = (gy,gx)_h.$ The second $G$ sends $(1,g)(y,x)_h = (gy,x)_{gh}.$ Finally, we identify a pair $(y,x)_{gh} \equiv (y,x)_h$ if $(g^{-1}y,x)_h$ is an edge. In this action, it is clear that when we further quotient out, we will have identified $(y,x)_e \equiv (y,x)_g \equiv (g^{-1}y,x)_e,$ where the last equivalence is by the second coordinate $1 \times G$ action, acting by $(1,g^{-1}).$ More generally, if $(y,x)_h$ and $(g^{-1}y,x)_h$ are two pairs, then we identify $(y,x)_h \equiv (y,x)_{gh} \equiv (y,ghx)_e \equiv (g^{-1}y,hx)_e \equiv (g^{-1}y,x)_h,$ which is exactly what we wanted to identify.
	
	\item Actually, I'm not sure about the above, we get our boolean subalgebras by identifying $(y,x)_e \equiv (gy,x)_g$ I think, with the identification of the boolean subalgebra coming from adding the elements to the top which do not lie above $x,$ that is, we can union any elemet $(z,g^{-1}z)$ to $(y,x)$ as long as $z\notin y \cup x.$ Think about perhaps how to identify these to get the boolean subalgebra.
\end{enumerate}

\section{Showing Injectivity?}

Idea, first, we know $T:(\mathcal F(B_n))_i \rightarrow \mathcal F(B_n)_{i+1},(x\otimes y) \mapsto \pi \circ (U \otimes U)(x\otimes y) - y \otimes U(y)$ is injective. In fact, it is the lefchetz map, so by Wilson's paper, $\pi \circ (U \otimes U)(x\otimes y) - y \otimes U(y)$ has a Wilson normal form, and it is positive semidefinite. By the same reason, $U_i(y)$ is positive semidefinite, at least when $rk(y) < \frac{n}{2}$ and hence so is $S:(\mathcal F(B_n))_i \rightarrow \mathcal F(B_n)_{i+1},(x,y) \mapsto y \otimes U(y).$ Then, for two positive semidefinite matrices $X,Y$ we have $rank(X+Y) \geq \min (rank(X),rank(Y)).$ Therefore, when $i < \frac{n}{2}$ we obtain that  sum of two positive semidefinite matrices has rank at least the sum. Therefore $S+T:(\mathcal F(B_n))_i \rightarrow \mathcal F(B_n)_{i+1},(x \otimes y) \mapsto \pi(U\otimes U)(x \otimes y)$ is also injective for $i < \frac{n}{2}-1.$ Furthermore, if this did fail to be injective, we would certainly need that $y \otimes U(y)$ is not positive semidefinite. rank $\frac{n}{2}$ is if $ \pi(U\otimes U)(x \otimes y)$ had some negative eigenvalue. This happens, for example for $B_2.$

Read wilson more closely to understand the diagonal form!

Check that we have the right basis, positive semidefiniteness can depend on basis.

A key fact for seeing that $F(B_n)$ with order A relation is unitary peck is the following:

The map $T:(x\otimes y) -> y \otimes U(y), has T^k(x\otimes y) = \sum c_{y,a} a\otimes b,$ where $c_{y,a}$ is just the number of paths from y to a (so I think it's $2^k$ or something like that).

\begin{conj}
$\mathcal F(B_n)$ is unitary peck. Additionally, the poset $\mathcal F(B_n/G)$ satisfies that its induced order raising maps $\phi=\mathcal F(U\otimes U)$ has $\phi^{n-2i}:\mathcal F(B_n/G)_i \rightarrow \mathcal F(B_n/G)_{n-i-2}$ is injective. Note, it is not an isomorphism because $\dim\mathcal F(B_n/G)_i = \dim \mathcal F(B_n/G)_{n-i-1} <\dim\mathcal F(B_n/G)_{n-i-2}$
\end{conj}

\begin{conj}
$\mathcal F(B_n/G)$ is actually Peck when $n$ is even.
\end{conj}

Something weird is going on for odd n at the middle rank, I don't understand it.

\section{$F(B_n)$ is peck}
Let $\beta = \frac{2^k-1}{k}.$
We know the matrix has rows $v_{a \otimes b} =\beta \sum_{y \subset a}^{}x \otimes y + \sum_{y\subset b,x \subset a,y\not\subset a}^{}x\otimes y.$

Define $z_b =\frac{1}{\beta(n-2i-2)+1} \sum_{a,a\subset b}^{}v_{a\otimes b}= \sum_{y\subset b}^{}x\otimes y.$

Define $z_a = \sum_{b,a\subset b}^{}v_{a \otimes b} = \sum_{b,a\subset b}^{}(\beta \sum_{y\subset a}^{}x\otimes y + \sum_{y\subset b, x \subset a,y\not\subset a}^{}x \otimes y)= \beta (i+1) \sum_{y\subset a}^{}x\otimes y+ \sum_{x\subset a,y\not\subset a}^{}x\otimes y.$

Define $z_{a,b} = \beta (i+1) z_b - z_a =\beta (i+1) \sum_{y\subset b}^{}x\otimes y - \beta (i+1) \sum_{y\subset a}^{}x\otimes y - \sum_{x\subset a,y\not\subset a}^{}x\otimes y
=
\beta (i+1) \sum_{y\subset b,y\not\subset a}^{}x\otimes y - \sum_{x\subset a,y\not\subset a}^{}x\otimes y.$

Define
\begin{align*}
w_{a,b} &= z_a - (i+1)v_{a\otimes b}\\
&= \sum_{x\subset a,y\not\subset a}^{}x\otimes y - (i+1) \sum_{y\subset b,x\subset a,y\not\subset a}^{}x\otimes y
\end{align*}

PROBLEM $q_a = 0$!!!!!!!
Define $q_a = \sum_{b,a\subset b}^{}w_{a,b} = \sum_{x\subset a,y\not \subset a}^{}x\otimes y.$

Define $g_a = z_a - q_a = \beta i \sum_{y\subset a}^{}x\otimes y.$

Assuming $i \neq 0,$
Define $l_a = v_{a\otimes b} - \frac{1}{i}g_a = \sum_{y\subset b,x\subset a,y\not\subset a}^{}x\otimes y.$

Define $t_{a,b} = z_b - v_a\otimes v_b.$

Then, $\beta(i+1)t_{a,b} - z_{a,b} + w_{a,b} = (\beta^2 - 1)(i+1)\sum_{y\subset b,x\subset a,y\not\subset a}^{}x\otimes y$ which is the lefchetz map.

\subsection{Nicer Sums}

Define $z_b =\frac{1}{\beta(n-2i-2)+1} \sum_{a,a\subset b}^{}v_{a\otimes b}= \sum_{y\subset b}^{}x\otimes y.$

Define $g_t = \sum_{a\subset b,t\not\subset b}^{}v_{a \otimes a \cup \{t\}}= \sum_{t \notin y}^{}x\otimes y.$
Actually, $g_t$ and $z_{[n]\setminus t}$ are the same.

Need to use the connection between complementation of $(x,b),(y,a).$

We can taje $h_{b,i} = \sum_{x\subset b}^{}x \otimes x \cup \{i\} + \beta(i+1)\sum_{y \subset b}^{}x\otimes y.$

Subtracting off $z_b,$ we can obtian
$\eta_{b,i} = \sum_{x\subset b}^{}x \otimes x \cup \{i\}.$

For any subset $s,|s|>n-i,$ can obtain the sum $\sum_{y \subset s}^{}x\otimes y$ and can obtain $\sum_{x\subset s}^{}x\otimes y \cup \{t\}$ for any choice of $t \notin s.$

Starting again, we can enforce $x \subset b.$ Hence, using inclusion exclusion, can envorce $x$ has a perscribed $i$ elements. Summing over all $x \in a$ gives desired result.

\subsection{Clearer Proof}

\begin{lem}
For any set $s$ of size at least $n-i,$ the combination $\sum_{y \subset s}^{}x\otimes y$ lies in the span of $v_{a\otimes b}$
\end{lem}
\begin{proof}
Take $\sum_{a,a\subset s}^{}v_{a\otimes b}$
\end{proof}

\begin{lem}
For any set $s$ of size at least $n-i,$ the combination $\sum_{x \subset s}^{}x\otimes y$ lies in the span of $v_{a\otimes b}.$
\end{lem}
\begin{proof}
Take $\sum_{a \subset s}^{}v_{a\otimes a \cup \{t\}}.$ This gives us something in terms of $C_1\sum_{y\subset a}^{}x\otimes y + C_2\sum_{x\subset a}^{} x\otimes x\cup \{t\}.$ We can subtract off the first term by the previous lemma. Thus we get $C_2\sum_{x\subset a}^{} x\otimes x\cup \{t\}.$ Unioning over all $t \notin a$, and then adding back the result of the previuos lemma gives the desired result.
\end{proof}

\begin{lem}
The sum $\sum_{\{i_1\}\in x}^{}x\otimes y$ lies in the span of $v_{a\otimes b}.$
\end{lem}
\begin{proof}

\end{proof}

\begin{lem}
For $t \leq i,$ the sum $\sum_{\{i_1,\ldots, i_t\}\in x}^{}x\otimes y,$ lies in the span of $v_{a\otimes b}.$
\end{lem}
\begin{proof}
Inclusion exclusion using the previous two lemmas.
\end{proof}

\begin{cor}
The sum $\sum_{x = \{j_1,\ldots, j_i\}}^{}x\otimes y$ lies in the span of $v_{a \otimes b}.$
\end{cor}
\begin{proof}

\end{proof}

\begin{lem}
The sum $\sum_{x \subset a}^{}x\otimes y$ lies in the span of $v_{a \otimes b}.$
\end{lem}
\begin{proof}
Sum the previous lemma over all $x \subset a.$
\end{proof}

\begin{lem}
We can write $v_{a\otimes b} = C_1\sum_{x\subset a}^{}x\otimes y + C_2\sum_{y \subset a}^{}x\otimes y.$
\end{lem}
\begin{proof}

\end{proof}

\begin{lem}
The sum $\sum_{y \subset a}^{}x\otimes y$ lies in the span of $v_{a \otimes b}.$
\end{lem}
\begin{proof}
Previous lemma.
\end{proof}

\begin{lem}
The sum $\sum_{x \subset a,y\not\subset a,y\subset b}^{}x\otimes y$ lies in the span of $v_{a \otimes b}.$
\end{lem}
\begin{proof}
Previous lemma, together with definition of $v_{a\otimes b}.$
\end{proof}

\begin{lem}
The $v_{a\otimes b}$ form a basis.
\end{lem}
\begin{proof}
Previous lemma shows the rows of $L^k$ lie in their span.
\end{proof}


\end{document}